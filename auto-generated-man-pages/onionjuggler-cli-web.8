.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "onionjuggler-cli-web" "8" "September 2069" "Manage webserver for onion services" ""
.hy
.SH NAME
.PP
onionjuggler-cli-web - Manage webserver for onion services
.SH SYNOPSIS
.PP
\f[B]onionjuggler-cli-web\f[R] [\f[B]--option\f[R]<=\f[I]ARGUMENT\f[R]>]
.PD 0
.P
.PD
\f[B]onionjuggler-cli-web [--getconf]\f[R]
.PD 0
.P
.PD
\f[B]onionjuggler-cli-web [--getopt]\f[R] [\f[B]--service\f[R]
<\f[I]SERVICE\f[R]>]
.PD 0
.P
.PD
\f[B]onionjuggler-cli-web\f[R] [\f[B]--on\f[R]] [\f[B]--service\f[R]
<\f[I]SERVICE\f[R]>] [\f[B]--folder\f[R] <\f[I]FOLDER\f[R]>]
.PD 0
.P
.PD
\f[B]onionjuggler-cli-web\f[R] [\f[B]--on\f[R]] [\f[B]--service\f[R]
<\f[I]SERVICE\f[R]>] [\f[B]--folder\f[R] <\f[I]FOLDER\f[R]>]
[\f[B]--no-check-service\f[R]] [\f[B]--port\f[R]
<\f[I]VIRTPORT[:TARGET]\f[R]>]
.PD 0
.P
.PD
\f[B]onionjuggler-cli-web\f[R] [\f[B]--off\f[R]] [\f[B]--service\f[R]
<\f[I]SERVICE\f[R]>]
.PD 0
.P
.PD
\f[B]onionjuggler-cli-web\f[R] [\f[B]--list\f[R]]
.PD 0
.P
.PD
\f[B]onionjuggler-cli-web\f[R] [\f[B]-h\f[R]|\f[B]--help\f[R]]
.SH DESCRIPTION
.PP
\f[B]onionjuggler-cli-web\f[R] helps manage webserver configuration for
onion services.
.SH OPTIONS
.SS VARIABLES
.TP
\f[B][VAR]\f[R]
Variable is required.
.TP
\f[B]<\f[BI]VAR\f[B]>\f[R]
Variable is optional.
.TP
\f[B]\[at]all\f[R], \f[B]\[at]all\f[R]
Include all available services or clients.
.TP
\f[B]SERV1,SERV2...\f[R], \f[B]CLIENT1,CLIENT2,...\f[R], \f[B]ONION1,ONION2\f[R]
List enabled option.
e.g: ssh,xmpp,irc or alice,bob.
.TP
\f[B]SERV\f[R]
Service name.
String format.
.TP
\f[B]VIRTPORT\f[R]
Virtual port.
Integer format.
.TP
\f[B]TARGET\f[R]
Target socket.
TCP needs to be specified, the format is \f[I]addr:port\f[R].
Abscense of the address will bind to localhost using the address
\f[I]127.0.0.1\f[R] for uniformity.
Abscense of target and will use the same port as the virtual port,
specifying just the port will bind to localhost using the address
\f[I]127.0.0.1\f[R] for uniformity.
Unix target is handled by the code using the format \f[I]unix:path\f[R]
and does not require manual selection.
Integer format.
.TP
\f[B]main\f[R] [\f[B]--option\f[R]<=\f[I]ARGUMENT\f[R]>]
Commands that accept arguments can be specified as follow:
\f[I]--service ssh\f[R] OR \f[I]--service \[dq]ssh nextcloud\[dq]\f[R]
OR \f[I]--service=ssh,nextcloud\f[R]
.TP
\f[B]ssh\f[R], \f[B]xmpp\f[R], \f[B]nextcloud\f[R]
Example of onion services directory names.
.SS ARGUMENTS
.TP
\f[B]--getconf\f[R]
Print configuration in the format \f[B]key\f[R]=\[dq]\f[I]val\f[R]\[dq].
.TP
\f[B]--getopt\f[R]
Print option parsing results.
.TP
\f[B]--on\f[R] \f[B]--service\f[R] <\f[I]SERV\f[R]> \f[B]--folder\f[R] <\f[I]FOLDER\f[R]>
Enable a website using a specific onion service by creating a
configuration file inside the web server folder by default, the folder
name is to be considered the wanted folder inside website_dir variable
defined on /etc/onionservice.conf.
If the path starts with forward slash \[dq]/\[dq] or tilde and slash
\[dq]\[ti]/\[dq], that path will be considered instead.
File(s) modified: \[dq]${webserver_conf}\[dq].
.RS
.IP
.nf
\f[C]
onionjuggler-cli-web --on --service nextcloud --folder nextcloud-local-site
\f[R]
.fi
.RE
.TP
\f[B]--off\f[R] \f[B]--service\f[R] <\f[I]SERV\f[R]>
Disable a website from a specific onion service by removing its
configuration file from the webserver folder.
File(s) modified: $webserver_conf
.RS
.IP
.nf
\f[C]
onionjuggler-cli-web --off --service nextcloud
\f[R]
.fi
.RE
.TP
\f[B]--list\f[R]
List enabled websites, meaning the configuration files inside the
webserver folder /etc/${webserver}/sites-enabled/.
File(s) modified: none.
.RS
.IP
.nf
\f[C]
onionjuggler-cli-web --list
\f[R]
.fi
.RE
.TP
\f[B]-h\f[R], \f[B]--help\f[R]
Display the script help message.
Abscense of any parameter will also have the same effect.
.RS
.IP
.nf
\f[C]
onionjuggler-cli-web -h
onionjuggler-cli-web --help
\f[R]
.fi
.RE
.TP
\f[B]-R\f[R], \f[B]--restart\f[R], \f[B]-r\f[R], \f[B]--reload\f[R]
Signal tor daemon to restart or reload after the CLI edits tor\[aq]s
configuration files.
(Default: reload)
.SH FILES
.TP
\f[B]/usr/share/onionjuggler/defaults.sh\f[R]
Default library
.TP
\f[B]/etc/onionjuggler/onionjuggler.conf\f[R]
Default system configuration file.
.TP
\f[B]/etc/onionjuggler/conf.d/*.conf\f[R]
Local configuration files that overrrite the default one.
.SH EXIT VALUE
.TP
\f[B]0\f[R]
Success
.TP
\f[B]>0\f[R]
Fail
.SH BUGS
.PP
Bugs you may find.
First search for related issues on
https://github.com/nyxnor/onionjuggler/issues, if not solved, open a new
one.
.SH SEE ALSO
.PP
onionjuggler-tui(8), onionjuggler.conf(5), vitor(8), tor(1), sh(1),
regex(7), sed(1), grep(1), shellcheck(1)
.SH COPYRIGHT
.PP
Copyright \[co] 2021 OnionJuggler developers (MIT) This is free
software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
.SH AUTHORS
Written by nyxnor (nyxnor\[at]protonmail.com).
