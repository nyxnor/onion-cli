.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "ONIONJUGGLER-CLI-WEB" "8" "2022-08-19" "onionjuggler-cli-web 0.0.1" "Tor's System Manager Manual"
.hy
.SH NAME
.PP
onionjuggler-cli-web - Manage webserver for onion services
.SH SYNOPSIS
.PP
\f[B]onionjuggler-cli-web\f[R] [\f[B]--option\f[R]<=\f[I]ARGUMENT\f[R]>]
.PD 0
.P
.PD
\f[B]onionjuggler-cli-web [--getconf]\f[R]
.PD 0
.P
.PD
\f[B]onionjuggler-cli-web [--getopt]\f[R] [\f[B]--service\f[R]
<\f[I]SERVICE\f[R]>]
.PD 0
.P
.PD
\f[B]onionjuggler-cli-web\f[R] [\f[B]--on\f[R]] [\f[B]--service\f[R]
<\f[I]SERVICE\f[R]>] [\f[B]--folder\f[R] <\f[I]FOLDER\f[R]>]
.PD 0
.P
.PD
\f[B]onionjuggler-cli-web\f[R] [\f[B]--on\f[R]] [\f[B]--service\f[R]
<\f[I]SERVICE\f[R]>] [\f[B]--folder\f[R] <\f[I]FOLDER\f[R]>]
[\f[B]--no-check-service\f[R]] [\f[B]--port\f[R]
<\f[I]VIRTPORT[:TARGET]\f[R]>]
.PD 0
.P
.PD
\f[B]onionjuggler-cli-web\f[R] [\f[B]--off\f[R]] [\f[B]--service\f[R]
<\f[I]SERVICE\f[R]>]
.PD 0
.P
.PD
\f[B]onionjuggler-cli-web\f[R] [\f[B]--list\f[R]]
.PD 0
.P
.PD
\f[B]onionjuggler-cli-web\f[R] [\f[B]-V\f[R]|\f[B]--version\f[R]]
\f[B]onionjuggler-cli-web\f[R] [\f[B]-h\f[R]|\f[B]--help\f[R]]
.SH DESCRIPTION
.PP
\f[B]onionjuggler-cli-web\f[R] helps manage webserver configuration for
onion services.
.SH OPTIONS
.TP
\f[B]--on\f[R] \f[B]--service\f[R] <\f[I]SERV\f[R]> \f[B]--folder\f[R] <\f[I]FOLDER\f[R]>
Enable a website using a specific onion service by creating a
configuration file inside the web server folder by default, the folder
name is to be considered the wanted folder inside website_dir variable
defined on /etc/onionjuggler.
If the path starts with forward slash \[dq]/\[dq] or tilde and slash
\[dq]\[ti]/\[dq], that path will be considered instead.
File(s) modified: $webserver_conf_dir.
.RS
.IP
.nf
\f[C]
onionjuggler-cli-web --on --service nextcloud --folder nextcloud-local-site
\f[R]
.fi
.RE
.TP
\f[B]--off\f[R] \f[B]--service\f[R] <\f[I]SERV\f[R]>
Disable a website from a specific onion service by removing its
configuration file from the webserver folder.
File(s) modified: $webserver_conf_dir
.RS
.IP
.nf
\f[C]
onionjuggler-cli-web --off --service nextcloud
\f[R]
.fi
.RE
.TP
\f[B]--list\f[R]
List enabled websites, meaning the configuration files inside the
webserver folder /etc/${webserver}/sites-enabled/.
File(s) modified: none.
.RS
.IP
.nf
\f[C]
onionjuggler-cli-web --list
\f[R]
.fi
.RE
.TP
\f[B]-V\f[R], \f[B]--version\f[R]
Print version information.
.TP
\f[B]--getconf\f[R]
Print configuration in the format \f[B]key\f[R]=\[dq]\f[I]val\f[R]\[dq].
.TP
\f[B]--getopt\f[R]
Print option parsing results.
.TP
\f[B]-h\f[R], \f[B]--help\f[R]
Display the script help message.
Abscense of any parameter will also have the same effect.
.RS
.IP
.nf
\f[C]
onionjuggler-cli-web -h
onionjuggler-cli-web --help
\f[R]
.fi
.RE
.TP
\f[B]-R\f[R], \f[B]--restart\f[R], \f[B]-r\f[R], \f[B]--reload\f[R]
Signal tor daemon to restart or reload after the CLI edits tor\[aq]s
configuration files.
(Default: reload)
.SH ENVIRONMENT
.TP
\f[B]ONIONJUGGLER_SKIP_PRE_TOR_CHECK\f[R]
If set to 1, skip pre run tor check to allow the script to run if the
tor is failing to parse its configuration.
As the scripts requires root, preserve the environment.
If using \f[I]doas\f[R], set \f[I]keepenv\f[R] in doas.conf.
If using \f[I]sudo\f[R], use the command line option \f[I]-E\f[R] or
\f[I]--preserve-env\f[R]:
.RS
.IP
.nf
\f[C]
ONIONJUGGLER_SKIP_PRE_TOR_CHECK=1 sudo -E onionjuggler-cli
\f[R]
.fi
.RE
.SH FILES
.TP
\f[B]/usr/share/onionjuggler/defaults.sh\f[R]
Default library
.TP
\f[B]/etc/onionjuggler/onionjuggler.conf\f[R]
Default system configuration file.
.TP
\f[B]/etc/onionjuggler/conf.d/*.conf\f[R]
Local configuration files that overrrite the default one.
.SH EXIT VALUE
.TP
\f[B]0\f[R]
Success
.TP
\f[B]>0\f[R]
Fail
.SH BUGS
.PP
Bugs you may find.
First search for related issues on
https://github.com/nyxnor/onionjuggler/issues, if not solved, open a new
one.
.SH SEE ALSO
.PP
onionjuggler.conf(5), onionjuggler-tui(8),
onionjuggler-cli-auth-client(8), onionjuggler-cli-auth-server(8),
onionjuggler-cli(8), tor(1)
.SH COPYRIGHT
.PP
Copyright \[co] 2021 OnionJuggler developers (MIT) This is free
software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
.SH AUTHORS
Written by nyxnor (nyxnor\[at]protonmail.com).
